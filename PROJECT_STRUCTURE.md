# GEPPML-R Project Structure

```
GEPPML_R/
â”‚
â”œâ”€â”€ README.md                   # Main documentation
â”œâ”€â”€ LICENSE                     # MIT License
â”œâ”€â”€ .gitignore                 # Git ignore rules
â”œâ”€â”€ CITATION.cff               # Citation information
â”œâ”€â”€ CHANGELOG.md               # Version history
â”œâ”€â”€ CONTRIBUTING.md            # Contribution guidelines
â”œâ”€â”€ FAQ.md                     # Frequently Asked Questions
â”œâ”€â”€ QUICKSTART.md              # Quick start guide
â”œâ”€â”€ VALIDATION.md              # Validation report (R vs Stata)
â”œâ”€â”€ PROJECT_STRUCTURE.md       # This file
â”œâ”€â”€ PACKAGE_INFO.txt           # Package metadata
â”‚
â”œâ”€â”€ geppml.R                   # Main analysis script â­
â”‚
â”œâ”€â”€ data/                      # Data directory
â”‚   â”œâ”€â”€ .gitkeep              # Keep directory in git
â”‚   â”œâ”€â”€ ge_ppml_data_orig.dta # Original data from Anderson et al. (2018)
â”‚   â””â”€â”€ ge_ppml_data.rds      # Processed data (generated)
â”‚
â”œâ”€â”€ output/                    # Results directory
â”‚   â”œâ”€â”€ .gitkeep              # Keep directory in git
â”‚   â”œâ”€â”€ all_indexes_geppml.csv      # Country-level indexes (CSV) ğŸ“Š
â”‚   â”œâ”€â”€ all_indexes_geppml.rds      # Country-level indexes (R format)
â”‚   â”œâ”€â”€ full_static_all.rds         # Complete results dataset
â”‚   â”œâ”€â”€ imrs_all.rds                # Inward MR indexes
â”‚   â””â”€â”€ geppml.log                  # Execution log
â”‚
â”œâ”€â”€ scripts/                   # Additional scripts
â”‚   â”œâ”€â”€ example_analysis.R     # Examples and visualizations ğŸ“ˆ
â”‚   â””â”€â”€ validation_report.R    # Validation against Stata ğŸ”
â”‚
â””â”€â”€ GEPPML_stata/              # Original Stata implementation ğŸ”„
    â”œâ”€â”€ geppml.do              # Stata script
    â”œâ”€â”€ ge_ppml_data_orig.dta  # Original data
    â”œâ”€â”€ all_indexes_geppml.dta # Stata results
    â””â”€â”€ readme.txt             # Stata documentation

```

## File Descriptions

### Root Directory

#### Core Files
- **`geppml.R`** â­ **[START HERE]**
  - Main script that performs the GEPPML analysis
  - Estimates baseline, conditional, and full GE scenarios
  - Generates all output files
  - Run time: ~30 seconds to 1 minute

#### Documentation
- **`README.md`**
  - Comprehensive documentation
  - Installation instructions
  - Methodology explanation
  - Usage examples
  - **Read this first if you're new to GEPPML**

- **`QUICKSTART.md`**
  - 5-minute quick start guide
  - Step-by-step first analysis
  - **Best for beginners who want to jump right in**

- **`FAQ.md`**
  - Common questions and answers
  - Troubleshooting guide
  - Interpretation help

- **`CONTRIBUTING.md`**
  - Guidelines for contributing
  - Development setup
  - Code style conventions

- **`CHANGELOG.md`**
  - Version history
  - What's new in each release
  - Future plans

#### Configuration
- **`LICENSE`**
  - MIT License
  - Free to use, modify, and distribute

- **`.gitignore`**
  - Files to exclude from git
  - Prevents tracking of large output files

- **`CITATION.cff`**
  - Citation information in standard format
  - Used by GitHub and Zenodo

### data/

#### Input Data
- **`ge_ppml_data_orig.dta`**
  - Original dataset from Anderson et al. (2018)
  - Stata format (.dta)
  - Contains bilateral trade flows and gravity variables
  - **DO NOT MODIFY THIS FILE**

#### Intermediate Data (Generated)
- **`ge_ppml_data.rds`**
  - Processed data with aggregate variables
  - Created by `geppml.R`
  - Can be regenerated

### output/

All files in this directory are generated by running `geppml.R`

#### Main Results
- **`all_indexes_geppml.csv`** ğŸ“Š
  - **Primary output file**
  - Country-level GE indexes and welfare effects
  - Readable in Excel, R, Python, etc.
  - Use this for tables and analysis

- **`all_indexes_geppml.rds`**
  - Same as CSV but in R format
  - Faster to load in R
  - Preserves data types exactly

#### Detailed Results
- **`full_static_all.rds`**
  - Complete bilateral dataset
  - All intermediate calculations
  - Use for detailed analysis or debugging

- **`imrs_all.rds`**
  - Inward Multilateral Resistance indexes
  - By country and scenario

#### Logs
- **`geppml.log`**
  - Detailed execution log
  - Model results, convergence info
  - Check this if something goes wrong

### scripts/

#### Example Scripts
- **`example_analysis.R`** ğŸ“ˆ
  - Examples of using GEPPML results
  - Creating visualizations
  - Exporting to Excel
  - **Run after `geppml.R` completes**

- **`validation_report.R`** ğŸ”
  - Compares R results to Stata results
  - Statistical validation tests
  - Generates validation report
  - **Use this to verify replication**

### GEPPML_stata/ ğŸ”„

**Original Stata implementation for comparison**

- **`geppml.do`**
  - Original Stata script
  - Line-by-line correspondence with R version
  - Requires Stata with `ppml` command

- **`ge_ppml_data_orig.dta`**
  - Copy of original data (same as in `data/`)

- **`all_indexes_geppml.dta`**
  - Results from Stata implementation
  - Used for validation of R code

- **`readme.txt`**
  - Stata-specific documentation

**Why this folder is included:**
- âœ… Easy comparison between R and Stata implementations
- âœ… Validate that R code replicates Stata exactly
- âœ… Learn from side-by-side code comparison
- âœ… Users can run both versions to verify results
  - Regional analysis templates
  - **Run this after `geppml.R` to see what you can do with results**

- **`validation_report.R`** ğŸ”
  - Compares R and Stata results
  - Ensures replication accuracy
  - Generates comparison plots
  - **Run this if you have Stata results to compare**

## Typical Workflow

### First Time User
1. Read `QUICKSTART.md` (5 minutes)
2. Run `geppml.R` (1 minute)
3. View `output/all_indexes_geppml.csv`
4. Run `scripts/example_analysis.R` for visualizations

### Research Project
1. Review `README.md` for methodology
2. Customize counterfactual in `geppml.R`
3. Run analysis
4. Use `scripts/example_analysis.R` as template for your analysis
5. Validate with `scripts/validate_results.R` (if possible)

### Contributing
1. Read `CONTRIBUTING.md`
2. Set up development environment
3. Make changes
4. Test with original data
5. Submit pull request

## File Sizes

Typical file sizes (may vary slightly):

```
data/ge_ppml_data_orig.dta    ~50 KB
data/ge_ppml_data.rds          ~80 KB
output/all_indexes_geppml.csv  ~5 KB
output/full_static_all.rds     ~200 KB
output/geppml.log              ~20 KB
```

The entire package is very lightweight (~500 KB total).

## Important Notes

### What Gets Tracked in Git?
âœ… Tracked:
- All scripts (.R files)
- Documentation (.md files)
- Original data (ge_ppml_data_orig.dta)
- Directory structure (.gitkeep files)
- Configuration files

âŒ Not Tracked (in .gitignore):
- Generated data (ge_ppml_data.rds)
- Output files (.csv, .rds, .log)
- R session files (.RData, .Rhistory)
- OS files (.DS_Store, Thumbs.db)

### What to Back Up?
Essential:
- Your modified `geppml.R` (if customized)
- Original data
- Documentation

Optional (can be regenerated):
- All files in `output/`
- Processed data

### What to Include in Publications?
Minimum:
- Original data
- Your modified `geppml.R`
- `README.md` (updated with your changes)

Recommended:
- All documentation
- All scripts
- Example outputs (in supplement)

## Quick Reference

| I want to...                      | File/Folder              |
|-----------------------------------|--------------------------|
| Run the analysis                  | `geppml.R`              |
| Learn how it works                | `README.md`             |
| Get started quickly               | `QUICKSTART.md`         |
| Find help                         | `FAQ.md`                |
| See example usage                 | `scripts/example_analysis.R` |
| Validation report                 | `scripts/validate_results.R` |
| View main results                 | `output/all_indexes_geppml.csv` |
| Check execution details           | `output/geppml.log`     |
| Contribute                        | `CONTRIBUTING.md`       |
| Cite the package                  | `CITATION.cff`          |

---

**Need Help?** Start with `QUICKSTART.md` or `FAQ.md`

**Want to Understand?** Read `README.md`

**Ready to Customize?** Edit `geppml.R` and run it!
